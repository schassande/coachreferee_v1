<!--
  Generated template for the UserNewPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-navbar>
        <ion-title>Account Edition</ion-title>
    </ion-navbar>
</ion-header>
<ion-content *ngIf="user">
    <ion-list>
        <ion-item>
            <ion-label *ngIf="!user.photo || !user.photo.url">No photo</ion-label>
            <ion-avatar item-start *ngIf="user.photo && user.photo.url"><img src="{{user.photo.url}}"></ion-avatar>
            <ion-icon item-end name="camera" (click)="getPicture()"></ion-icon>
        </ion-item>
        <ion-item>
            <ion-label fixed>First name</ion-label>
            <ion-input type="text" [(ngModel)]="user.firstName" min="3" max="15"></ion-input>
        </ion-item>
        <ion-item>
            <ion-label fixed>Last name</ion-label>
            <ion-input type="text" [(ngModel)]="user.lastName" min="3" max="15"></ion-input>
        </ion-item>
        <ion-item>
            <ion-label fixed>Short Name</ion-label>
            <ion-input type="text" [(ngModel)]="user.shortName" min="3" max="5"></ion-input>
        </ion-item>
        <ion-item>
            <ion-label fixed>Email</ion-label>
            <ion-input type="text" [(ngModel)]="user.email" min="3" max="30"></ion-input>
        </ion-item>
        <ion-item>
            <ion-label fixed>Password</ion-label>
            <ion-input type="password" [(ngModel)]="user.password" max="15"></ion-input>
        </ion-item>
        <ion-item>
            <ion-label>Country</ion-label>
            <ion-select [(ngModel)]="user.country">
                <ion-option *ngFor="let country of constantes.countries" value="{{country[0]}}">{{country[1]}}</ion-option>
            </ion-select>
        </ion-item>
        <ion-item>
            <ion-label>Gender</ion-label>
            <ion-select [(ngModel)]="user.gender">
                <ion-option value="F">Female</ion-option>
                <ion-option value="M">Male</ion-option>
            </ion-select>
        </ion-item>
        <ion-item>
            <ion-label fixed>Mobile phones</ion-label>
            <ion-input type="phone" [(ngModel)]="user.mobilePhones"></ion-input>
        </ion-item>
        <ion-item>
            <ion-label>Speaking languages</ion-label>
            <ion-select [(ngModel)]="user.speakingLanguages" multiple="true">
                <ion-option *ngFor="let lang of constantes.languages" value="{{lang[0]}}">{{lang[1]}}</ion-option>
            </ion-select>
        </ion-item>
        <ion-item-group>
            <ion-item-divider color="light">Data privacy</ion-item-divider>
        </ion-item-group>

    </ion-list>
    <form #form="ngForm">
        <ion-grid>
            <ion-row>
                <ion-col col-6>
                    <ion-label style="white-space: normal;">Sharing of my personal (fields above) data to the application users</ion-label>
                </ion-col>
                <ion-col col-6>
                    <sharing-comp name="personnalInfoSharing" [(ngModel)]="user.dataSharingAgreement.personnalInfoSharing"></sharing-comp>
                </ion-col>
            </ion-row>
            <ion-row>
                <ion-col col-6>
                    <ion-label style="white-space: normal;">Sharing of my photo to the application users</ion-label>
                </ion-col>
                <ion-col col-6>
                    <sharing-comp name="photoSharing" [(ngModel)]="user.dataSharingAgreement.photoSharing"></sharing-comp>
                </ion-col>
            </ion-row>
            <ion-row>
                <ion-col col-6>
                    <ion-label style="white-space: normal;">Sharing of my assessments as referee to all coaches</ion-label>
                </ion-col>
                <ion-col col-6>
                    <sharing-comp name="refereeAssessmentSharing" [(ngModel)]="user.dataSharingAgreement.refereeAssessmentSharing"></sharing-comp>
                </ion-col>
            </ion-row>
            <ion-row>
                <ion-col col-6>
                    <ion-label style="white-space: normal;">Sharing of my coachings as referee to all coaches</ion-label>
                </ion-col>
                <ion-col col-6>
                    <sharing-comp name="refereeCoachingInfoSharing" [(ngModel)]="user.dataSharingAgreement.refereeCoachingInfoSharing"></sharing-comp>
                </ion-col>
            </ion-row>
            <ion-row>
                <ion-col col-6>
                    <ion-label style="white-space: normal;">Sharing of my assessments as coach to the others coaches</ion-label>
                </ion-col>
                <ion-col col-6>
                    <sharing-comp name="coachAssessmentSharing" [(ngModel)]="user.dataSharingAgreement.coachAssessmentSharing"></sharing-comp>
                </ion-col>
            </ion-row>
            <ion-row>
                <ion-col col-6>
                    <ion-label style="white-space: normal;">Sharing of my coaching as coach to others coaches</ion-label>
                </ion-col>
                <ion-col col-6>
                    <sharing-comp name="coachCoachingInfoSharing" [(ngModel)]="user.dataSharingAgreement.coachCoachingInfoSharing"></sharing-comp>
                </ion-col>
            </ion-row>
            <ion-row>
                <ion-col col-6>
                    <ion-label style="white-space: normal;">Sharing of assessment done by me to others coaches</ion-label>
                </ion-col>
                <ion-col col-6>
                    <sharing-comp name="coachProSharing" [(ngModel)]="user.dataSharingAgreement.coachProSharing"></sharing-comp>
                </ion-col>
            </ion-row>
        </ion-grid>
    </form>

    <button ion-button secondary (click)="newUser($event)" style="width: 100%;" class="greenButton">Save</button>
</ion-content>