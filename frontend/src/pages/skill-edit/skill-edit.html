<!--
  Generated template for the SkillEditPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar>
        <ion-title>Skill Edition</ion-title>
        <ion-buttons end><button ion-button menuToggle ion-button icon-only><ion-icon name="menu"></ion-icon></button></ion-buttons>
    </ion-navbar>

</ion-header>


<ion-content padding>
    <ion-list *ngIf="skill">
        <ion-item text-wrap>
            <ion-label fixed>Name</ion-label>
            <ion-input type="text" [(ngModel)]="skill.name"></ion-input>
        </ion-item>
        <ion-item>
            <ion-label fixed>Description</ion-label>
            <ion-textarea placeholder="Enter a description of skill" rows="3" [(ngModel)]="skill.description"></ion-textarea>
        </ion-item>
        <ion-item>
            <ion-label fixed>Required</ion-label>
            <ion-toggle [(ngModel)]="skill.required"></ion-toggle>
        </ion-item>
        <ion-item-group style="border-left: 1px solid lightgrey; border-right: 1px solid lightgrey;">
            <ion-item-divider color="light" style="text-align: center; font-size: 1.2em;">Assciated PRO</ion-item-divider>
            <ion-item *ngFor="let pro of skill.proLinks">
                <button ion-item (click)="proLinkSelected($event, pro)">{{pro.problemShortDesc}}</button>
                <ion-icon item-end name="trash" (click)="deletePro(pro)"></ion-icon>
            </ion-item>
            <label *ngIf="!skill.proLinks || skill.proLinks.length === 0">No PRO associaed.</label>
        </ion-item-group>
    </ion-list>
    <label>Search existing PRO:</label>
    <ion-searchbar [(ngModel)]="searchInput" [showCancelButton]="false" (ionInput)="onSearchBarInput($event)"></ion-searchbar>
    <ion-list>
        <ion-item *ngFor="let pro of searchPros">
            <button ion-item (click)="proSelected($event, pro)">{{pro.problemShortDesc}}</button>
            <button ion-button item-end (click)="addPRO($event, pro)" class="greenButton">+</button>
        </ion-item>
    </ion-list>
</ion-content>